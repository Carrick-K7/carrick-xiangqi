# Carrick Team Workflow v3.4

## 目录

1. [概述](#概述)
2. [PTT框架](#ptt框架)
3. [CTT系统](#ctt系统)
4. [AAR机制](#aar机制)
5. [开发流程](#开发流程)

## 概述

Carrick Team Workflow 是团队开发的核心规范，涵盖项目管理、代码审查、复盘总结等全方位流程。

## PTT框架

### 定义
- **P**roblem：问题定义与澄清
- **T**arget：目标设定与分解  
- **T**ask：任务拆解与分配

### 使用流程
1. 明确问题范围和边界
2. 设定可量化的目标
3. 拆解为可执行的具体任务

## CTT系统

### 核心概念
- **C**ontext：上下文环境
- **T**rigger：触发条件
- **T**arget：目标动作

### 应用场景
- 自动化工作流触发
- 条件执行逻辑
- 状态变更通知

## AAR机制

### After Action Review 流程

1. **What happened?** - 实际发生了什么
2. **Why did it happen?** - 为什么会这样
3. **What can we learn?** - 我们能学到什么
4. **What will we do differently?** - 下次如何改进

### 复盘会议规范
- 每次迭代结束后进行
- 全员参与，轮流主持
- 记录存档，跟踪改进

## 开发流程

### 版本 3.5 更新要点 (2026-02-13)

**⚠️ 关键约定：所有项目调整必须严格执行完整开发流程**

```
需求/Task → 开发实现 → 测试验证 → 部署上线 → 复盘更新
     ↑                                              ↓
     └────────────── 完整闭环 ──────────────────────┘
```

**强制检查清单：**
- [ ] 创建/更新 Task 文件 (`tasks/T-XXX-xxx.md`)
- [ ] 代码修改并本地测试
- [ ] 构建成功，无报错
- [ ] 部署到生产环境
- [ ] 验证线上功能正常
- [ ] Git 提交并推送
- [ ] 更新 Task 状态为 ✅ 已完成
- [ ] 更新 HEARTBEAT 项目统计

**适用项目：**
- Dashboard (MikuDash)
- Xiangqi (象棋)
- Toolbox (工具箱)
- Drum (架子鼓)

### 版本 3.4 要点

1. **需求阶段**
   - 需求文档必须经过产品评审
   - 技术方案需架构师确认

2. **开发阶段**
   - 分支管理：feature → develop → main
   - 代码提交需关联 Issue

3. **测试阶段**
   - 单元测试覆盖率 ≥ 80%
   - E2E 测试覆盖核心流程

4. **发布阶段**
   - 灰度发布，逐步放量
   - 监控告警，快速回滚

---
*最后更新：2026-02-10*
