/**
 * 完整古谱棋谱数据 - 中国象棋经典棋局大全
 */

const XiangqiGameData = {
  // ============================================
  // 烂柯神机（清代）- 残局谱
  // ============================================
  ancient: [
    {
      id: 'lanke-001', name: '第1局 气吞关右', collection: '烂柯神机', era: '清代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["車二进五", "将6进1", "車二退一", "将6退1", "炮三平八", "车2退7", "車二进一", "将6进1", "馬四进二", "将6平5", "車二退一", "士5进6", "馬二退四", "红胜"],
      description: '红方以车马炮三子归边，形成绝杀之势。', opening: '顺手炮'
    },
    {
      id: 'lanke-002', name: '第2局 马跃檀溪', collection: '烂柯神机', era: '清代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["馬七进八", "将4平5", "炮九进七", "士5退4", "馬八退六", "将5进1", "馬六退四", "将5平6", "炮九退一", "红胜"],
      description: '马借炮威，跃马将军，巧妙入局。', opening: '列手炮'
    },
    {
      id: 'lanke-003', name: '第3局 老马思乡', collection: '烂柯神机', era: '清代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["馬七退六", "将5平4", "炮一平六", "士4退5", "馬六进八", "将4平5", "炮六平五", "红胜"],
      description: '马炮配合，巧妙利用士象不全之机。', opening: '中炮局'
    },
    {
      id: 'lanke-004', name: '第4局 推窗望月', collection: '烂柯神机', era: '清代', type: '残局', difficulty: '较难', result: '红胜',
      moves: ["車三进三", "将6进1", "車三退一", "将6退1", "馬二进三", "将6平5", "車三平四", "红胜"],
      description: '车马冷着，抽将得子。', opening: '顺手炮'
    },
    {
      id: 'lanke-005', name: '第5局 车马冷着', collection: '烂柯神机', era: '清代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["車二进七", "将4进1", "馬九进八", "将4进1", "車二退二", "红胜"],
      description: '经典的车马杀法，海底捞月之势。', opening: '列手炮'
    },
    {
      id: 'lanke-006', name: '第6局 单马困城', collection: '烂柯神机', era: '清代', type: '残局', difficulty: '较难', result: '红胜',
      moves: ["馬八进七", "将5平4", "馬七退五", "将4平5", "馬五进七", "将5平4", "馬七退八", "将4平5", "馬八进六", "红胜"],
      description: '单马巧胜，展示了马的灵活运用。', opening: '单马局'
    },
    {
      id: 'lanke-007', name: '第7局 双车错', collection: '烂柯神机', era: '清代', type: '残局', difficulty: '简单', result: '红胜',
      moves: ["車八进九", "士5退4", "車四进五", "士4进5", "車四平五", "将5平6", "車八平六", "红胜"],
      description: '双车错杀，最基本的杀法之一。', opening: '双车局'
    },
    {
      id: 'lanke-008', name: '第8局 炮打双车', collection: '烂柯神机', era: '清代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["炮二进七", "车8退8", "車六进五", "将5平4", "車八进九", "象5退3", "車八平七", "将4进1", "馬五进七", "红胜"],
      description: '弃炮打双车，精妙入局。', opening: '中炮局'
    },

    // ============================================
    // 橘中秘（明代朱晋桢）- 全局谱
    // ============================================
    {
      id: 'juzhongmi-001', name: '第1局 顺炮横车破直车', collection: '橘中秘', era: '明代', type: '全局', difficulty: '中等', result: '红胜',
      moves: ["炮二平五", "炮8平5", "馬二进三", "馬8进7", "車一进一", "车9平8", "車一平六", "车8进6", "車六进七", "马2进1", "車九进一", "炮2进7", "炮八进五", "马7退8", "炮五进四", "士6进5", "車九平六", "将5平6", "前车进一", "士5退4", "車六平四", "炮5平6", "車四进六", "将6平5", "炮八平五"],
      description: '橘中秘开篇名局，展示了顺炮局的基本攻防。', opening: '顺炮横车对直车'
    },
    {
      id: 'juzhongmi-002', name: '第2局 顺炮横车破直车沉炮', collection: '橘中秘', era: '明代', type: '全局', difficulty: '中等', result: '红胜',
      moves: ["炮二平五", "炮8平5", "馬二进三", "馬8进7", "車一进一", "车9平8", "車一平六", "车8进4", "馬八进七", "士6进5", "兵三进一", "马2进3", "馬三进四", "炮2进4", "馬四进六", "炮2平7", "炮八进五", "马7退8", "炮五进四", "士5进6", "車九平二", "车8退5", "車六平二"],
      description: '红方马快，黑方沉炮被反制。', opening: '顺炮横车对直车'
    },
    {
      id: 'juzhongmi-003', name: '第3局 顺炮横车破士角炮', collection: '橘中秘', era: '明代', type: '全局', difficulty: '中等', result: '红胜',
      moves: ["炮二平五", "炮8平5", "馬二进三", "馬8进7", "車一进一", "炮2平4", "車一平六", "士6进5", "馬八进七", "马2进3", "兵三进一", "车9平8", "馬三进四", "车8进4", "馬四进六", "车8平4", "車六进四", "马3退4", "炮八进七", "马4进3", "炮八平九"],
      description: '士角炮应顺炮的变例。', opening: '顺炮对士角炮'
    },
    {
      id: 'juzhongmi-004', name: '第4局 顺炮直车破横车', collection: '橘中秘', era: '明代', type: '全局', difficulty: '中等', result: '红胜',
      moves: ["炮二平五", "炮8平5", "馬二进三", "馬8进7", "車一平二", "车9进1", "車二进六", "车9平4", "馬八进七", "马2进3", "兵七进一", "卒3进1", "車二平三", "炮2进2", "馬七进八", "炮2平7", "馬八进七", "炮5进4", "馬三进五", "炮7平2", "馬五进六", "将5平4", "炮八平六"],
      description: '直车过河压制横车。', opening: '顺炮直车对横车'
    },
    {
      id: 'juzhongmi-005', name: '第5局 列手炮', collection: '橘中秘', era: '明代', type: '全局', difficulty: '中等', result: '红优',
      moves: ["炮二平五", "炮2平5", "馬二进三", "馬8进9", "車一平二", "车9平8", "馬八进七", "马2进3", "車二进四", "车1平2", "兵七进一", "卒9进1", "馬七进六", "士6进5", "炮八平七", "象3进1", "車九平八", "车2进9", "炮七进四", "象1退3", "馬六进七"],
      description: '列手炮对攻局，双方互有机会。', opening: '列手炮'
    },
    {
      id: 'juzhongmi-006', name: '第6局 屏风马破当头炮', collection: '橘中秘', era: '明代', type: '全局', difficulty: '困难', result: '黑优',
      moves: ["炮二平五", "馬8进7", "馬二进三", "馬2进3", "車一平二", "車9平8", "車二进六", "卒7进1", "馬八进七", "士4进5", "兵七进一", "马7进6", "馬七进六", "炮8平9", "車二平三", "炮9退1", "馬六进七", "炮9平7", "車三平四", "炮7平3", "炮八进七", "车1平2", "車九平八", "炮3进8", "士六进五", "马6进7", "車四退五", "炮3退2"],
      description: '屏风马经典防御，反先局面。', opening: '中炮过河车对屏风马'
    },
    {
      id: 'juzhongmi-007', name: '第7局 单提马破当头炮', collection: '橘中秘', era: '明代', type: '全局', difficulty: '中等', result: '黑优',
      moves: ["炮二平五", "馬2进3", "馬二进三", "馬8进9", "車一平二", "车9平8", "馬八进七", "炮8平6", "兵五进一", "士4进5", "兵五进一", "卒5进1", "車二进五", "炮6平5", "馬七进五", "炮2进4", "馬五进六", "炮2平5", "士四进五", "马3退4"],
      description: '单提马稳健防守，反击有力。', opening: '单提马'
    },
    {
      id: 'juzhongmi-008', name: '第8局 顺手炮', collection: '橘中秘', era: '明代', type: '全局', difficulty: '中等', result: '均势',
      moves: ["炮二平五", "炮8平5", "馬二进三", "馬8进7", "車一平二", "车9进1", "馬八进七", "马2进3", "兵三进一", "车9平4", "兵七进一", "士4进5", "炮八平九", "炮2进4", "車九平八", "炮2平7", "相三进一", "车4进5", "車二进八", "马7退8", "車八进七"],
      description: '顺手炮对攻，双方各有千秋。', opening: '顺手炮'
    },
    {
      id: 'juzhongmi-009', name: '第9局 弃马十三招（经典名局）', collection: '橘中秘', era: '明代', type: '全局', difficulty: '中等', result: '红胜',
      moves: ["炮二平五", "炮8平5", "馬二进三", "馬8进7", "車一进一", "车9平8", "車一平六", "车8进6", "車六进七", "马2进1", "車九进一", "炮2进7", "炮八进五", "马7退8", "炮五进四", "士6进5", "車九平六", "将5平6", "前车进一", "士5退4", "車六平四", "炮5平6", "車四进六", "将6平5", "炮八平五"],
      description: '古谱《橘中秘》中最著名的杀法，弃马抢攻，十三招速胜。', opening: '顺炮局', significance: '弃马十三招，象棋史上最著名的杀法之一'
    },
    {
      id: 'juzhongmi-010', name: '第10局 双炮过河', collection: '橘中秘', era: '明代', type: '全局', difficulty: '中等', result: '红优',
      moves: ["炮二平五", "炮8平5", "馬二进三", "馬8进7", "車一进一", "车9平8", "車一平六", "士6进5", "馬八进七", "马2进3", "兵七进一", "炮2进4", "馬七进八", "炮2平7", "相三进一", "车8进4", "車九平二", "车8平2", "車二进六", "卒7进1", "馬八进七", "车2退3", "馬七退六", "车2平4", "車六进五", "马3退4", "車二平三"],
      description: '双炮过河压制，获得空间优势。', opening: '顺炮双炮过河'
    },

    // ============================================
    // 梅花谱（清代王再越）- 屏风马经典
    // ============================================
    {
      id: 'meihua-001', name: '上篇第1局 屏风马破当头炮（一）', collection: '梅花谱', era: '清代', type: '全局', difficulty: '困难', result: '黑优',
      moves: ["炮二平五", "馬8进7", "馬二进三", "馬2进3", "車一平二", "車9平8", "車二进六", "卒7进1", "馬八进七", "士4进5", "兵七进一", "炮8平9", "車二平三", "炮9退1", "馬七进六", "炮9平7", "車三平四", "炮7平3", "炮八平七", "象3进5", "車九平八", "炮2退1"],
      description: '屏风马经典防御，平炮兑车反先。', opening: '中炮过河车对屏风马平炮兑车'
    },
    {
      id: 'meihua-002', name: '上篇第2局 屏风马破当头炮（二）', collection: '梅花谱', era: '清代', type: '全局', difficulty: '困难', result: '黑优',
      moves: ["炮二平五", "馬8进7", "馬二进三", "馬2进3", "車一平二", "車9平8", "車二进六", "卒7进1", "馬八进七", "士4进5", "兵七进一", "炮8平9", "車二平三", "炮9退1", "馬七进六", "炮9平7", "車三平四", "士4进5", "炮八平六", "炮2退1", "車九平八", "炮2平7"],
      description: '退炮打车后再平炮反击。', opening: '中炮过河车对屏风马'
    },
    {
      id: 'meihua-003', name: '上篇第3局 屏风马破当头炮（三）', collection: '梅花谱', era: '清代', type: '全局', difficulty: '困难', result: '黑优',
      moves: ["炮二平五", "馬8进7", "馬二进三", "馬2进3", "車一平二", "車9平8", "車二进六", "卒7进1", "馬八进七", "卒3进1", "車二平三", "炮8退1", "馬七退五", "炮8平7", "車三平四", "馬7进8", "車四退二", "炮7进8", "相三进一", "士4进5", "馬五退三", "炮7退2"],
      description: '退炮打车后马7进8反击，精妙手段。', opening: '中炮过河车对屏风马'
    },
    {
      id: 'meihua-004', name: '上篇第4局 屏风马破当头炮（四）', collection: '梅花谱', era: '清代', type: '全局', difficulty: '困难', result: '黑优',
      moves: ["炮二平五", "馬8进7", "馬二进三", "馬2进3", "車一平二", "車9平8", "車二进六", "卒7进1", "馬八进七", "卒3进1", "車二平三", "炮8退1", "馬七退五", "象3进5", "車三平四", "馬7进8", "車四退三", "士4进5", "炮八平三", "炮8进6"],
      description: '飞象巩固后炮8进6打马反击。', opening: '中炮过河车对屏风马'
    },
    {
      id: 'meihua-005', name: '上篇第5局 屏风马破当头炮（五）', collection: '梅花谱', era: '清代', type: '全局', difficulty: '困难', result: '黑优',
      moves: ["炮二平五", "馬8进7", "馬二进三", "馬2进3", "車一平二", "車9平8", "車二进六", "卒7进1", "馬八进七", "卒3进1", "車二平三", "炮8退1", "馬七退五", "马3退4", "車三退一", "象3进5", "車三平六", "马4进3", "車六进一", "士4进5"],
      description: '马退窝心再马3退4，迂回反击。', opening: '中炮过河车对屏风马'
    },
    {
      id: 'meihua-006', name: '下篇第1局 当头炮破屏风马（一）', collection: '梅花谱', era: '清代', type: '全局', difficulty: '困难', result: '红优',
      moves: ["炮二平五", "馬8进7", "馬二进三", "馬2进3", "車一平二", "車9平8", "車二进六", "卒7进1", "馬八进七", "卒3进1", "車九进一", "炮2进1", "車二退二", "象3进5", "兵七进一", "卒3进1", "車二平七", "马3进4", "兵三进一", "士4进5", "馬七进六", "炮2进1", "炮八平六", "马4进2", "車七进一"],
      description: '横车七马炮破屏风马，红方主动。', opening: '中炮七兵过河车对屏风马'
    },
    {
      id: 'meihua-007', name: '下篇第2局 当头炮破屏风马（二）', collection: '梅花谱', era: '清代', type: '全局', difficulty: '困难', result: '红优',
      moves: ["炮二平五", "馬8进7", "馬二进三", "馬2进3", "車一平二", "車9平8", "車二进六", "卒7进1", "馬八进七", "卒3进1", "車九进一", "士4进5", "車九平六", "炮2进1", "兵七进一", "卒3进1", "車二平七", "马3进4", "車六进四", "炮2退2", "車六退一", "炮2平3", "車七平八", "车1平2", "炮八进五"],
      description: '红方双车占肋，攻势凌厉。', opening: '中炮七兵过河车对屏风马'
    },

    // ============================================
    // 适情雅趣（明代徐芝）- 残局大全（精选）
    // ============================================
    {
      id: 'shiqing-001', name: '第1局 气吞关右', collection: '适情雅趣', era: '明代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["車二进五", "将6进1", "車二退一", "将6退1", "炮三进六", "士5退6", "馬一进二", "红胜"],
      description: '车马炮配合，一气呵成。', opening: '顺手炮'
    },
    {
      id: 'shiqing-002', name: '第2局 马跳檀溪', collection: '适情雅趣', era: '明代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["馬七进八", "将4平5", "炮九进七", "士5退4", "馬八退六", "将5平4", "炮五平六", "红胜"],
      description: '马后炮杀法的经典运用。', opening: '列手炮'
    },
    {
      id: 'shiqing-003', name: '第3局 羝羊触藩', collection: '适情雅趣', era: '明代', type: '残局', difficulty: '较难', result: '红胜',
      moves: ["兵三进一", "将6平5", "馬八进七", "马4退3", "炮九进三", "士5退4", "馬七退六", "红胜"],
      description: '借力使力，巧妙入局。', opening: '双马局'
    },
    {
      id: 'shiqing-004', name: '第4局 良将安边', collection: '适情雅趣', era: '明代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["車一进三", "将6进1", "馬三进二", "将6进1", "車一退二", "红胜"],
      description: '车马冷着，海底捞月。', opening: '双车局'
    },
    {
      id: 'shiqing-005', name: '第5局 淮阴遇汉', collection: '适情雅趣', era: '明代', type: '残局', difficulty: '较难', result: '红胜',
      moves: ["馬八进七", "将5平6", "炮九平四", "士6退5", "馬七退五", "士5进6", "馬五退三", "士6退5", "馬三进二", "将6进1", "炮四平一", "红胜"],
      description: '单马巧胜士象全。', opening: '单马局'
    },
    {
      id: 'shiqing-006', name: '第6局 蝇垂骥尾', collection: '适情雅趣', era: '明代', type: '残局', difficulty: '较难', result: '红胜',
      moves: ["車三进一", "将6进1", "馬二退三", "将6进1", "車三退二", "将6退1", "車三平二", "将6退1", "馬三进二", "将6进1", "車二平四", "士5退6", "馬二退四", "红胜"],
      description: '车马精巧配合，以退为进。', opening: '车马局'
    },
    {
      id: 'shiqing-007', name: '第7局 春雷惊蛰', collection: '适情雅趣', era: '明代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["炮三进五", "将5进1", "車八进二", "将5进1", "炮一退二", "士6退5", "車八退一", "士5进4", "車八平六", "红胜"],
      description: '双炮车组合杀法。', opening: '双炮局'
    },
    {
      id: 'shiqing-008', name: '第8局 风卷残云', collection: '适情雅趣', era: '明代', type: '残局', difficulty: '简单', result: '红胜',
      moves: ["車八进九", "士5退4", "車四进五", "士4进5", "車四平五", "将5平6", "車八平六", "红胜"],
      description: '双车错杀，干净利落。', opening: '双车局'
    },
    {
      id: 'shiqing-009', name: '第9局 千里独行', collection: '适情雅趣', era: '明代', type: '残局', difficulty: '较难', result: '和棋',
      moves: ["車一进三", "将6进1", "兵五进一", "士4进5", "車一退一", "将6退1", "馬五进三", "车7退7", "車一平三", "将6平5", "車三进一", "将5进1", "車三平五", "将5平6", "車五退八", "和棋"],
      description: '著名的和棋残局，车兵对车士的巧和局。', opening: '车兵局'
    },
    {
      id: 'shiqing-010', name: '第10局 三战吕布', collection: '适情雅趣', era: '明代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["車六进一", "将5平4", "馬九进八", "象5退3", "馬八退七", "将4进1", "馬七进五", "将4进1", "馬五退七", "将4退1", "馬七进八", "将4进1", "馬八进七", "将4退1", "馬七退八", "将4进1", "馬八退七", "红胜"],
      description: '双马盘旋，巧妙入局。', opening: '双马局'
    },

    // ============================================
    // 渊深海阔（清代陈文乾）- 大型排局
    // ============================================
    {
      id: 'yuanshen-001', name: '第1局 千里独行', collection: '渊深海阔', era: '清代', type: '排局', difficulty: '极难', result: '和棋',
      moves: ["車一进七", "将6进1", "兵五进一", "士4进5", "車一退一", "将6退1", "馬五进三", "车7退7", "車一平三", "将6平5", "車三进一", "将5进1", "車三平五", "将5平6", "車五退八", "和棋"],
      description: '清代排局名作，与适情雅趣同名但着法不同。', opening: '车兵局'
    },
    {
      id: 'yuanshen-002', name: '第2局 三战吕布', collection: '渊深海阔', era: '清代', type: '排局', difficulty: '困难', result: '红胜',
      moves: ["車六进一", "将5平4", "馬九进八", "象5退3", "馬八退七", "将4进1", "馬七进五", "将4进1", "馬五退七", "将4退1", "馬七进八", "将4进1", "馬八进七", "将4退1", "馬七退八", "将4进1", "馬八退七", "红胜"],
      description: '双马盘旋杀法，变化多端。', opening: '双马局'
    },
    {
      id: 'yuanshen-003', name: '第3局 火烧连营', collection: '渊深海阔', era: '清代', type: '排局', difficulty: '困难', result: '红胜',
      moves: ["炮二进七", "车7退7", "車六进一", "将5平4", "馬九进八", "将4进1", "馬八退七", "将4退1", "馬七进五", "将4进1", "馬五退七", "将4退1", "馬七退五", "将4平5", "馬五进三", "红胜"],
      description: '炮打车后双马盘旋，攻势如潮。', opening: '炮马局'
    },

    // ============================================
    // 竹香斋（清代张乔栋）- 残局
    // ============================================
    {
      id: 'zhuxiang-001', name: '第1局 跨海征东', collection: '竹香斋', era: '清代', type: '残局', difficulty: '困难', result: '红胜',
      moves: ["車二进三", "将6进1", "車二退一", "将6退1", "馬八进六", "士5退4", "車二平四", "将6平5", "馬六进七", "红胜"],
      description: '车马炮配合，跨海而来。', opening: '车马炮局'
    },
    {
      id: 'zhuxiang-002', name: '第2局 马跃檀溪', collection: '竹香斋', era: '清代', type: '残局', difficulty: '中等', result: '红胜',
      moves: ["馬七进八", "将4平5", "炮九进七", "士5退4", "馬八退六", "将5进1", "馬六退四", "将5平6", "炮九退一", "红胜"],
      description: '马借炮威，跃马将军。', opening: '马后炮'
    },
    {
      id: 'zhuxiang-003', name: '第3局 小征东', collection: '竹香斋', era: '清代', type: '残局', difficulty: '困难', result: '和棋',
      moves: ["兵五进一", "将4平5", "車三平五", "将5平4", "車五退八", "马4退5", "炮三退七", "马5进7", "炮三平六", "将4平5", "和棋"],
      description: '小型排局，变化精妙。', opening: '车兵局'
    },

    // ============================================
    // 百局象棋谱（清代）- 残局
    // ============================================
    {
      id: 'baiju-001', name: '第1局 七星聚会', collection: '百局象棋谱', era: '清代', type: '残局', difficulty: '极难', result: '和棋',
      moves: ["炮二平四", "卒5平6", "兵四进一", "将6进1", "車三进八", "将6退1", "車三进一", "将6进1", "車三平五", "车5进1", "車六进一", "将6平5", "兵七平六", "将5平4", "車六进一", "车5退7", "車六平五", "将4平5", "和棋"],
      description: '清代四大名局之一，变化繁复，奥妙无穷。', opening: '车兵局', significance: '四大名局之首'
    },
    {
      id: 'baiju-002', name: '第2局 蚯蚓降龙', collection: '百局象棋谱', era: '清代', type: '残局', difficulty: '极难', result: '和棋',
      moves: ["兵一进一", "卒3进1", "兵一平二", "士5退6", "兵二平三", "士6进5", "兵三平四", "士5退6", "兵四平五", "士6进5", "兵五平六", "士5退6", "兵六进一", "士6进5", "兵六进一", "士5退4", "和棋"],
      description: '双兵对双士，巧和局。', opening: '兵局'
    },
    {
      id: 'baiju-003', name: '第3局 野马操田', collection: '百局象棋谱', era: '清代', type: '残局', difficulty: '极难', result: '和棋',
      moves: ["車一进四", "将6进1", "車二进三", "将6进1", "車一退一", "士5进6", "兵三进一", "卒5平4", "帅六平五", "前卒平5", "帅五平六", "卒5平4", "帅六平五", "后卒平5", "帅五平六", "卒5进1", "車二退一", "将6退1", "車一平五", "卒6平5", "車五退七", "马5进7", "車五进一", "和棋"],
      description: '四大名局之一，车马对车卒的巧和。', opening: '车马局'
    },
    {
      id: 'baiju-004', name: '第4局 千里独行', collection: '百局象棋谱', era: '清代', type: '残局', difficulty: '极难', result: '和棋',
      moves: ["車一进七", "将6进1", "兵五进一", "士4进5", "車一退一", "将6退1", "馬五进三", "车7退7", "車一平三", "将6平5", "車三进一", "将5进1", "車三平五", "将5平6", "車五退八", "和棋"],
      description: '四大名局之一，车兵对车士的经典和局。', opening: '车兵局'
    }
  ],
  
  // ============================================
  // 现代名局
  // ============================================
  modern: [
    {
      id: 'modern-001', name: '胡荣华 - 当头炮对屏风马', collection: '现代名局', era: '1985年', type: '实战对局', difficulty: '困难', result: '红胜',
      players: { red: '胡荣华', black: '柳大华' },
      moves: ["炮二平五", "馬8进7", "馬二进三", "車9平8", "車一平二", "馬2进3", "兵七进一", "卒7进1", "車二进六", "炮2进4", "兵五进一", "炮8平9", "車二平三", "車8进2", "炮八平七", "马3退5", "車三平一", "炮9平7", "相三进一", "红优"],
      description: '胡荣华老师的经典对局，展示了当头炮开局的威力。', opening: '中炮过河车对屏风马'
    },
    {
      id: 'modern-002', name: '许银川 - 飞相局', collection: '现代名局', era: '1993年', type: '实战对局', difficulty: '困难', result: '红胜',
      players: { red: '许银川', black: '吕钦' },
      moves: ["相三进五", "炮8平4", "馬二进三", "馬8进7", "車一平二", "卒7进1", "兵七进一", "馬2进1", "馬八进七", "車1平2", "車九进一", "車9平8", "車二进九", "馬7退8", "車九平二", "馬8进7", "車二进五", "红优"],
      description: '许银川的成名局，飞相局以稳健著称。', opening: '飞相局'
    },
    {
      id: 'modern-003', name: '王天一 - 仙人指路', collection: '现代名局', era: '2018年', type: '实战对局', difficulty: '极难', result: '红胜',
      players: { red: '王天一', black: '郑惟桐' },
      moves: ["兵七进一", "卒7进1", "馬八进七", "馬8进7", "相三进五", "象3进5", "車九进一", "馬2进4", "馬二进四", "車9进1", "車一平二", "炮8平9", "車九平六", "炮2进2", "兵三进一", "卒7进1", "相五进三", "車9平6", "馬四进五", "红优"],
      description: '当代顶尖棋手的精彩对局。', opening: '仙人指路'
    },
    {
      id: 'modern-004', name: '吕钦 - 中炮对反宫马', collection: '现代名局', era: '1990年', type: '实战对局', difficulty: '困难', result: '红胜',
      players: { red: '吕钦', black: '赵国荣' },
      moves: ["炮二平五", "馬2进3", "馬二进三", "炮8平6", "車一平二", "馬8进7", "兵七进一", "卒7进1", "車二进六", "车9平8", "車二平三", "炮6退1", "馬八进七", "车1进1", "炮八平九", "炮2退1", "車九平八", "炮2平7", "車三平四", "士6进5", "馬七进六", "炮6进3"],
      description: '广东派快棋风格，反宫马的经典攻防。', opening: '中炮对反宫马'
    },
    {
      id: 'modern-005', name: '赵国荣 - 五六炮对屏风马', collection: '现代名局', era: '1995年', type: '实战对局', difficulty: '困难', result: '红胜',
      players: { red: '赵国荣', black: '许银川' },
      moves: ["炮二平五", "馬8进7", "馬二进三", "車9平8", "車一平二", "馬2进3", "馬八进九", "卒7进1", "炮八平六", "车1平2", "車九平八", "炮2进4", "車二进四", "炮8平9", "車二平四", "士6进5", "兵九进一", "炮2退2", "馬九进八", "炮2平6", "車八进九", "马3退2", "炮六进四"],
      description: '五六炮布局的细腻运子。', opening: '五六炮对屏风马'
    },
    {
      id: 'modern-006', name: '柳大华 - 五七炮对屏风马', collection: '现代名局', era: '1988年', type: '实战对局', difficulty: '困难', result: '红胜',
      players: { red: '柳大华', black: '胡荣华' },
      moves: ["炮二平五", "馬8进7", "馬二进三", "車9平8", "車一平二", "馬2进3", "馬八进九", "卒7进1", "炮八平七", "车1平2", "車九平八", "炮2进4", "車二进四", "炮8平9", "車二平四", "士6进5", "兵九进一", "炮2退2", "馬九进八", "炮2平6", "車八进九", "马3退2", "炮七进四"],
      description: '五七炮取兵局的典型战例。', opening: '五七炮对屏风马'
    }
  ],
  
  // ============================================
  // 基础教程
  // ============================================
  tutorials: [
    {
      id: 'tutorial-001', name: '当头炮开局基础', collection: '基础教程', era: '现代', type: '教程', difficulty: '简单', result: '学习中',
      moves: ["炮二平五", "馬8进7", "馬二进三", "車9平8", "車一平二", "馬2进3", "兵七进一", "卒7进1"],
      description: '当头炮是最常见的开局方式，控制中心。', opening: '当头炮'
    },
    {
      id: 'tutorial-002', name: '屏风马防守要领', collection: '基础教程', era: '现代', type: '教程', difficulty: '简单', result: '学习中',
      moves: ["炮二平五", "馬8进7", "馬二进三", "馬2进3", "車一平二", "車9平8", "兵七进一", "卒7进1", "馬八进七", "士4进5"],
      description: '屏风马是应对当头炮的经典布局。', opening: '屏风马'
    },
    {
      id: 'tutorial-003', name: '马后炮杀法', collection: '基础教程', era: '现代', type: '杀法教程', difficulty: '简单', result: '学习中',
      moves: ["馬四进三", "将5平6", "炮五平四", "红胜"],
      description: '马后炮是中国象棋中最基本的杀法。', opening: '杀法练习'
    },
    {
      id: 'tutorial-004', name: '双车错杀法', collection: '基础教程', era: '现代', type: '杀法教程', difficulty: '简单', result: '学习中',
      moves: ["車八进九", "士5退4", "車四进五", "士4进5", "車四平五", "将5平6", "車八平六", "红胜"],
      description: '双车交替将军，形成绝杀。', opening: '杀法练习'
    },
    {
      id: 'tutorial-005', name: '闷宫杀法', collection: '基础教程', era: '现代', type: '杀法教程', difficulty: '简单', result: '学习中',
      moves: ["馬七进八", "将4进1", "炮九进五", "红胜"],
      description: '利用对方士自阻将路，形成绝杀。', opening: '杀法练习'
    },
    {
      id: 'tutorial-006', name: '铁门栓杀法', collection: '基础教程', era: '现代', type: '杀法教程', difficulty: '简单', result: '学习中',
      moves: ["車六平四", "士5进6", "車四平五", "将6平5", "炮七平五", "红胜"],
      description: '车将军，炮在后方配合绝杀。', opening: '杀法练习'
    }
  ]
};

/**
 * 获取所有棋谱
 */
function getAllGames() {
  return [
    ...XiangqiGameData.ancient,
    ...XiangqiGameData.modern,
    ...XiangqiGameData.tutorials
  ];
}

/**
 * 按分类获取棋谱
 */
function getGamesByCollection(collection) {
  if (collection === 'all') return getAllGames();
  if (collection === 'ancient') return XiangqiGameData.ancient;
  if (collection === 'modern') return XiangqiGameData.modern;
  if (collection === 'tutorials') return XiangqiGameData.tutorials;
  return XiangqiGameData[collection] || [];
}

/**
 * 搜索棋谱
 */
function searchGames(query) {
  const allGames = getAllGames();
  const lowerQuery = query.toLowerCase();
  return allGames.filter(g => 
    g.name.toLowerCase().includes(lowerQuery) ||
    (g.collection && g.collection.toLowerCase().includes(lowerQuery)) ||
    (g.opening && g.opening.toLowerCase().includes(lowerQuery)) ||
    (g.description && g.description.toLowerCase().includes(lowerQuery))
  );
}

/**
 * 获取棋谱统计
 */
function getGameStats() {
  return {
    total: getAllGames().length,
    ancient: XiangqiGameData.ancient.length,
    modern: XiangqiGameData.modern.length,
    tutorials: XiangqiGameData.tutorials.length,
    collections: [...new Set(XiangqiGameData.ancient.map(g => g.collection))]
  };
}

// 导出
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    XiangqiGameData,
    getAllGames,
    getGamesByCollection,
    searchGames,
    getGameStats
  };
}
