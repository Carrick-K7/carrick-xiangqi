# Product Spec - 中国象棋AI分析应用

## 1. 产品概述
为Carrick定制的中国象棋AI分析工具，帮助提升棋艺，了解经典棋局。

## 2. 核心功能

### 2.1 AI走棋建议 (P0 - 明早必须)
- **功能描述**: 分析当前棋局，推荐最佳走法
- **展示内容**:
  - 推荐走法（文字 + 棋盘高亮）
  - 获胜概率百分比
  - 预期后续3-5步变化
- **交互方式**: 
  - 点击"分析"按钮触发
  - 分析过程显示loading动画
  - 结果以箭头/高亮形式展示在棋盘上

### 2.2 原因分析 (P0 - 明早必须)
- **功能描述**: 简要说明为什么这步棋好
- **展示内容**:
  - 1-2句话的简要说明
  - 涉及的战术概念（如：牵制、闪击、弃子攻杀等）
- **展示位置**: 棋盘下方的分析面板

### 2.3 历史棋谱 (P1 - 可简化)
- **功能描述**: 展示与当前局面相似的经典棋局
- **展示内容**:
  - 经典对局名称
  - 年份/棋手信息
  - 简要说明历史意义
- **实现方式**: MVP阶段先内置5-10个经典案例

### 2.4 基础对弈功能 (P0 - 明早必须)
- **功能描述**: 人机对战
- **功能点**:
  - 玩家执红先行
  - AI执黑应对
  - 支持悔棋
  - 新局/重新开始

## 3. 用户界面

### 3.1 布局
```
┌─────────────────────────────────────┐
│  标题栏：中国象棋AI分析器              │
├──────────────────┬──────────────────┤
│                  │                  │
│    棋盘区域       │   分析面板        │
│   (400x450px)    │   (300px宽)      │
│                  │                  │
│                  │  ┌────────────┐  │
│                  │  │ AI分析结果  │  │
│                  │  └────────────┘  │
│                  │  ┌────────────┐  │
│                  │  │ 历史棋谱   │  │
│                  │  └────────────┘  │
├──────────────────┴──────────────────┤
│  控制按钮: 新局 | 悔棋 | 分析 | 设置  │
└─────────────────────────────────────┘
```

### 3.2 棋盘交互
- 点击棋子选中（高亮边框）
- 点击目标位置移动
- 非法移动提示（抖动动画）
- 吃子时播放音效（可选）

### 3.3 AI分析结果展示
- **推荐走法**: 用绿色箭头在棋盘上标示
- **概率**: 显示"胜率: 65%"
- **分析文字**: 下方面板展示

## 4. 用户体验流程

```
1. 打开应用 → 显示初始棋盘
2. 用户走棋 → 棋子移动，轮到AI
3. AI思考 → 显示"思考中..."
4. AI走棋 → 执行最佳走法
5. 用户点击"分析" → AI分析当前局面
6. 显示分析结果 → 推荐走法+胜率+原因
7. 可查看历史棋谱 → 展示相似经典案例
```

## 5. MVP裁剪范围

### 必须保留 (P0)
- 完整中国象棋规则
- 基础人机对战
- AI分析按钮+结果展示
- 简要文字分析
- 5个经典历史棋谱

### 可延后 (P1/P2)
- 音效系统
- 历史棋谱自动匹配
- 棋局保存/导入
- 难度等级设置
- 多引擎选择
- 在线对战

## 6. 经典棋谱清单 (MVP内置)

1. **橘中秘** - 明代古谱，顺手炮开局
2. **梅花谱** - 清代名著，屏风马破当头炮
3. **胡荣华vs杨官璘 1974** - 世纪之战
4. **许银川经典飞刀局** - 当代特级大师
5. **当头炮对屏风马经典变例** - 最流行开局

---
*Created: 2026-02-06*
*For: Carrick 紧急需求*
