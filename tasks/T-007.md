# T-007: 着法显示与动画优化

## 基本信息
| 字段 | 值 |
|------|-----|
| Task ID | T-007 |
| 名称 | 着法显示与动画优化 |
| 状态 | ✅ 已完成 |
| 优先级 | P2 - 体验优化 |
| 负责人 | 🎨 Miku |
| 创建日期 | 2026-02-13 |
| 完成日期 | 2026-02-13 |

---

## 📋 任务描述

优化中国象棋的着法显示格式和棋子动画效果，使其更符合传统棋艺的审美和体验。

---

## 🎯 任务目标

1. **着法显示标准化** - 黑方使用阿拉伯数字，棋子字符与棋盘一致
2. **动画质感提升** - 移除夸张效果，增加真实落子感

---

## ✅ 子任务清单

### 1. 着法显示优化
- [x] 修改 `toNotation()` 函数
- [x] 黑方列号使用阿拉伯数字（1-9）
- [x] 红方列号保持中文数字（一至九）
- [x] 棋子字符与棋盘显示一致
  - 红方：俥、傌、相、仕、帥、炮、兵
  - 黑方：車、馬、象、士、將、砲、卒

### 2. 动画效果优化
- [x] **选子动画**
  - 移除：scale 弹性缩放
  - 改为：translateY(-3px) 轻微浮起 + 柔和高亮
  - 缓动：cubic-bezier(0.25, 0.46, 0.45, 0.94)

- [x] **移子动画**
  - 移除：scale(1.2) 放大 + 轨迹特效
  - 改为：纯位置移动 + 阴影变化
  - 时间：350ms

- [x] **落定动画** (新增)
  - 效果：scale(1.05) → scale(0.98) → scale(1)
  - 模拟真实棋子落下的微弹感

- [x] **吃子动画**
  - 移除：scale(1.3) 弹性放大
  - 改为：柔和缩小消失 scale(0.85)

---

## 🔧 修改文件

```
src/move-parser.js    # 着法显示逻辑
index.html            # CSS动画样式 + JS动画逻辑
deploy.sh             # 新增部署脚本
```

---

## 📝 CTT 提交规范

```
feat(xiangqi): T-030 着法显示与动画优化

- 关键任务: 1）着法标准化 2）动画质感优化
- 状态: ✅已完成
- 团队: 🎨Miku(主力)
```

---

## ✅ 验收标准

| 标准 | 状态 | 说明 |
|------|------|------|
| 黑方着法显示数字 | ✅ | 如：馬8进7 |
| 红方着法显示中文 | ✅ | 如：俥一平二 |
| 棋子字符与棋盘一致 | ✅ | 使用异体字 |
| 选子动画柔和 | ✅ | 浮起效果 |
| 移子动画流畅 | ✅ | 平滑滑动 |
| 落定有质感 | ✅ | 微弹动画 |
| 吃子动画自然 | ✅ | 柔和消失 |
| 部署成功 | ✅ | 线上可访问 |

---

## 🔗 关联任务

- 前置: T-028 (Bug修复)
- 后续: 无

---

**状态:** ✅ 已完成
