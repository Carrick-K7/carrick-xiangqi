# T-008: 棋谱推演功能

## 任务目标
实现经典棋谱的加载、浏览和推演功能，让用户可以按步骤研究名局。

## 需求分析

### 现状问题
1. **game-browser.js 未引入** - 有完整代码但index.html没加载
2. **无着法解析** - 中文着法（如"炮二平五"）无法转换为棋盘操作
3. **无导航UI** - 缺少下一步/上一步/播放等按钮

### 功能需求
1. **加载棋谱** - 点击左侧列表真正加载到棋盘
2. **着法解析** - 将中文着法转换为坐标移动
3. **导航控制** - ⏮ ◀ ▶ ⏭ 第一手/上一手/下一手/最后一手
4. **自动播放** - ▶️ 按速度自动推演
5. **进度显示** - 当前步数/总步数、进度条

## 技术方案

### 核心模块
1. **MoveParser** - 中文着法解析器
2. **GameNavigator** - 棋谱导航控制器  
3. **UI组件** - 导航按钮、进度条、播放控制

### 着法解析示例
```
输入: "炮二平五"
解析: 炮(棋子) + 二(原始列) + 平(动作) + 五(目标列)
输出: {piece: 'cannon', from: [7, 1], to: [7, 4]} // 0-indexed
```

### 文件变更
- `index.html` - 引入game-browser.js，添加导航UI
- `src/move-parser.js` - 新建着法解析器
- `src/game-browser.js` - 完善与棋盘的集成

## 开发步骤
1. ✅ 创建Task文档
2. ⏳ 开发着法解析器 (MoveParser)
3. ⏳ 集成game-browser.js到index.html
4. ⏳ 实现导航按钮功能
5. ⏳ 添加自动播放功能
6. ⏳ 样式优化
7. ⏳ 测试弃马十三招完整推演
8. ⏳ 部署上线

## 完成标准
- [ ] 点击"弃马十三招"加载到棋盘
- [ ] 点击"▶"下一步，棋子正确移动
- [ ] 13步完成后显示"红胜"
- [ ] 可以任意跳转到某一步
- [ ] 自动播放功能正常

---
**预估时间**: 30-45分钟
**难度**: 中等 (需要着法解析逻辑)
